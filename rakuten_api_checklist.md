# 楽天トラベルAPI トラブルシューティングチェックリスト

## 1. アプリケーション基本情報

楽天デベロッパーページ: https://webservice.rakuten.co.jp/app/applications

### チェック項目

- [ ] アプリケーション一覧に該当のアプリが表示されている
- [ ] アプリケーションID: `fae4bbb0-3a2a-46e1-af75-f219fc34c107` が正しい
- [ ] アプリケーションのステータスが「有効」または「承認済み」になっている
- [ ] アプリケーション名が設定されている

## 2. アプリケーションURL

- [ ] アプリケーションURLが設定されている
- [ ] URLが実在するドメインである（例: https://example.com）
- [ ] URLがhttp**s**://で始まっている

**重要**:
- 「http://localhost」などのローカルURLは不可
- 仮のURL（例: http://dummy.com）だと動作しない可能性あり
- 実際に所有しているドメインまたは公開サーバーのURLが必要

## 3. API利用設定

アプリケーション詳細ページで以下を確認：

- [ ] 「Travel API」が利用可能なAPIリストに含まれている
- [ ] 他のAPI（Ichiba、Books等）では動作するか確認
- [ ] APIの利用申請が必要な場合、申請済みか

## 4. アクセス制限

- [ ] IP制限が設定されていないか確認
- [ ] リファラー制限が設定されていないか確認
- [ ] 地域制限がかかっていないか確認

## 5. アカウント状態

- [ ] 楽天会員アカウント自体が有効である
- [ ] アプリケーション登録から24時間以上経過している（承認待ち期間）
- [ ] 利用規約に違反していない

## 6. その他の確認事項

- [ ] ブラウザで楽天デベロッパーページにログインできる
- [ ] 過去にこのアプリケーションIDで正常に動作したことがあるか
- [ ] 最近、アプリケーション設定を変更したか

## トラブルシューティング手順

### テスト1: 別のAPIで動作確認

楽天市場APIでテスト（Travel API以外）:

```bash
curl "https://app.rakuten.co.jp/services/api/IchibaItem/Search/20170706?format=json&applicationId=fae4bbb0-3a2a-46e1-af75-f219fc34c107&keyword=ノートパソコン&hits=1"
```

- **成功**した場合 → Travel APIの利用申請が必要かも
- **失敗**した場合 → アプリケーションID自体の問題

### テスト2: 新規アプリケーション作成

1. 楽天デベロッパーページで新規アプリケーションを作成
2. アプリケーションURLに実在するURL（自分のウェブサイトなど）を設定
3. 新しいアプリケーションIDをテスト

### テスト3: サポートに問い合わせ

楽天ウェブサービスサポート:
https://webservice.rakuten.co.jp/support/

問い合わせ内容例:
```
件名: Travel APIのアプリケーションIDエラーについて

本文:
お世話になっております。

以下のアプリケーションIDでTravel APIを利用しようとしていますが、
「specify valid applicationId」というエラーが発生します。

アプリケーションID: fae4bbb0-3a2a-46e1-af75-f219fc34c107
使用API: Travel/KeywordHotelSearch/20170426
エラー: {"error": "wrong_parameter", "error_description": "specify valid applicationId"}

アプリケーションは有効になっており、アプリケーションURLも設定済みです。
考えられる原因と解決方法をご教示いただけますでしょうか。

よろしくお願いいたします。
```

## よくある原因と解決策

### 原因1: アプリケーションURLが未設定または無効
**解決策**: 実在するhttps://のURLを設定

### 原因2: Travel APIの利用申請が必要
**解決策**: 楽天デベロッパーページで利用申請を行う

### 原因3: アプリケーションが承認待ち
**解決策**: 24-48時間待つ

### 原因4: アカウントに問題がある
**解決策**: サポートに問い合わせ

## 次のステップ

上記を確認後、以下の情報を教えてください：

1. アプリケーションのステータス: （有効/承認待ち/その他）
2. アプリケーションURLの設定: （設定済み/未設定/ローカルURL）
3. Travel APIの表示: （利用可能リストにある/ない）
4. 他のAPI（Ichiba等）での動作: （成功/失敗/未テスト）
5. アプリケーション作成日: （いつ作成したか）

これらの情報があれば、より具体的な解決策を提案できます。
